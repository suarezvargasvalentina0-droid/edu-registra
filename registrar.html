<!DOCTYPE html>
<html lang="es">
<head>
  <title>INSCRIPCIONES 2025</title>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="estilopia.css">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>

<body style="background-color: rgb(113, 172, 113);">

  <div class="contenedorR text-center mt-3">
    <img src="./IMAGENES/escudo.png" width="130" height="130">
    <div class="nombre">
      <h3>ESTUDIANTE NUEVO</h3>
    </div>
  </div>

  <div class="titulo2 text-center mt-3">
    <h5 style="color: white; font-family: Arial, sans-serif;">DOCUMENTOS NECESARIOS</h5>
  </div>

  <br>

  <!-- ✅ FORMULARIO -->
  <div class="formulario container">
    <form id="formEstudiante">
      <div class="mb-3">
        <label class="form-label text-white"><b>NOMBRE COMPLETO</b></label>
        <input type="text" class="form-control" id="nombrecompleto" required>
      </div>

      <div class="mb-3">
        <label class="form-label text-white"><b>DOCUMENTO</b></label>
        <input type="number" class="form-control" id="documento" required>
      </div>

      <div class="mb-3">
        <label class="form-label text-white"><b>CORREO</b></label>
        <input type="email" class="form-control" id="correo" required>
      </div>

      <div class="mb-3">
        <label for="gradoIniciar" class="form-label text-white"><b>GRADO A INICIAR</b></label>
        <select id="gradoIniciar" class="form-select" required>
          <option value="" disabled selected>Seleccione un grado</option>

          <optgroup label="SEXTO">
            <option value="SEXTO UNO">SEXTO UNO</option>
            <option value="SEXTO DOS">SEXTO DOS</option>
            <option value="SEXTO TRES">SEXTO TRES</option>
            <option value="SEXTO CUATRO">SEXTO CUATRO</option>
            <option value="SEXTO CINCO">SEXTO CINCO</option>
            <option value="SEXTO SEIS">SEXTO SEIS</option>
            <option value="SEXTO SIETE">SEXTO SIETE</option>
            <option value="SEXTO OCHO">SEXTO OCHO</option>
          </optgroup>

          <optgroup label="SÉPTIMO">
            <option value="SÉPTIMO UNO">SÉPTIMO UNO</option>
            <option value="SÉPTIMO DOS">SÉPTIMO DOS</option>
            <option value="SÉPTIMO TRES">SÉPTIMO TRES</option>
            <option value="SÉPTIMO CUATRO">SÉPTIMO CUATRO</option>
            <option value="SÉPTIMO CINCO">SÉPTIMO CINCO</option>
            <option value="SÉPTIMO SEIS">SÉPTIMO SEIS</option>
            <option value="SÉPTIMO SIETE">SÉPTIMO SIETE</option>
            <option value="SÉPTIMO OCHO">SÉPTIMO OCHO</option>
          </optgroup>

          <optgroup label="OCTAVO">
            <option value="OCTAVO UNO">OCTAVO UNO</option>
            <option value="OCTAVO DOS">OCTAVO DOS</option>
            <option value="OCTAVO TRES">OCTAVO TRES</option>
            <option value="OCTAVO CUATRO">OCTAVO CUATRO</option>
            <option value="OCTAVO CINCO">OCTAVO CINCO</option>
            <option value="OCTAVO SEIS">OCTAVO SEIS</option>
            <option value="OCTAVO SIETE">OCTAVO SIETE</option>
            <option value="OCTAVO OCHO">OCTAVO OCHO</option>
          </optgroup>

          <optgroup label="NOVENO">
            <option value="NOVENO UNO">NOVENO UNO</option>
            <option value="NOVENO DOS">NOVENO DOS</option>
            <option value="NOVENO TRES">NOVENO TRES</option>
            <option value="NOVENO CUATRO">NOVENO CUATRO</option>
            <option value="NOVENO CINCO">NOVENO CINCO</option>
            <option value="NOVENO SEIS">NOVENO SEIS</option>
            <option value="NOVENO SIETE">NOVENO SIETE</option>
            <option value="NOVENO OCHO">NOVENO OCHO</option>
          </optgroup>

          <optgroup label="10">
            <option value="10 ALIMENTOS">10 ALIMENTOS</option>
            <option value="10 ARTES ESCÉNICAS">10 ARTES ESCÉNICAS</option>
            <option value="10 DISEÑO TEXTIL">10 DISEÑO TEXTIL</option>
            <option value="10 MATEMÁTICAS">10 MATEMÁTICAS</option>
            <option value="10 INGLÉS">10 INGLÉS</option>
            <option value="10 BIOLOGÍA">10 BIOLOGÍA</option>
            <option value="10 CIENCIAS QUÍMICA 1">10 CIENCIAS QUÍMICA 1</option>
            <option value="10 CIENCIAS QUÍMICA 2">10 CIENCIAS QUÍMICA 2</option>
            <option value="10 INFORMÁTICA 1">10 INFORMÁTICA 1</option>
            <option value="10 INFORMÁTICA 2">10 INFORMÁTICA 2</option>
            <option value="10 INFORMÁTICA 3">10 INFORMÁTICA 3</option>
            <option value="10 INFORMÁTICA 4">10 INFORMÁTICA 4</option>
          </optgroup>

          <optgroup label="11">
            <option value="11 ALIMENTOS">11 ALIMENTOS</option>
            <option value="11 ARTES ESCÉNICAS">11 ARTES ESCÉNICAS</option>
            <option value="11 DISEÑO TEXTIL">11 DISEÑO TEXTIL</option>
            <option value="11 MATEMÁTICAS">11 MATEMÁTICAS</option>
            <option value="11 INGLÉS">11 INGLÉS</option>
            <option value="11 BIOLOGÍA">11 BIOLOGÍA</option>
            <option value="11 CIENCIAS QUÍMICA 1">11 CIENCIAS QUÍMICA 1</option>
            <option value="11 CIENCIAS QUÍMICA 2">11 CIENCIAS QUÍMICA 2</option>
            <option value="11 INFORMÁTICA 1">11 INFORMÁTICA 1</option>
            <option value="11 INFORMÁTICA 2">11 INFORMÁTICA 2</option>
            <option value="11 INFORMÁTICA 3">11 INFORMÁTICA 3</option>
            <option value="11 INFORMÁTICA 4">11 INFORMÁTICA 4</option>
          </optgroup>

        </select>
      </div>

      <div class="mb-3">
        <label class="form-label text-white"><b>CLAVE</b></label>
        <input type="password" class="form-control" id="clave" required>
      </div>

      <!-- ✅ Botón dentro del formulario -->
      <button type="submit" class="btn btn-light w-100 mt-3" id="btnGuardar">GUARDAR</button>

      <!-- ✅ Mensaje -->
      <p id="mensaje" class="text-center mt-3 fw-bold"></p>
    </form>
  </div>

  <!-- Scripts de Bootstrap -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.7/dist/js/bootstrap.min.js"></script>

  <!-- ✅ SCRIPT DE REGISTRO -->
  <script>
    document.addEventListener("DOMContentLoaded", () => {
      const form = document.getElementById("formEstudiante");
      const mensaje = document.getElementById("mensaje");

      form.addEventListener("submit", async (event) => {
        event.preventDefault();

        // Capturar valores
        const nombre = document.getElementById("nombrecompleto").value.trim();
        const documento = document.getElementById("documento").value.trim();
        const correo = document.getElementById("correo").value.trim();
        const grado = document.getElementById("gradoIniciar").value.trim();
        const clave = document.getElementById("clave").value.trim();

        // Validar campos vacíos
        if (!nombre || !documento || !correo || !grado || !clave) {
          mensaje.textContent = "⚠️ Todos los campos son obligatorios.";
          mensaje.style.color = "black";
          return;
        }

        try {
          const respuesta = await fetch("https://eduregistra.onrender.com/api/estudiantes", {
            method: "POST",
            headers: { "Content-Type": "application/json" },
            body: JSON.stringify({ nombre, documento, correo, grado, clave }),
          });

          const resultado = await respuesta.json();

          if (respuesta.ok) {
            mensaje.textContent = "✅ Estudiante registrado correctamente.";
            mensaje.style.color = "white";
            form.reset();
          } else {
            mensaje.textContent = `❌ Error: ${resultado.error || "No se pudo registrar."}`;
            mensaje.style.color = "black";
          }
        } catch (error) {
          console.error(error);
          mensaje.textContent = "❌ Error al conectar con el servidor.";
          mensaje.style.color = "black";
        }
      });
    });
  </script>

</body>
</html>
